---
layout: doxygen_header
title: Manual - bitpit::PatchSkdTree Class Reference
section: documentation
doxygen-show-titlearea: 0
extra-head-includes:
    - doxygen_extra_head.html
---
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
{% if page.doxygen-show-titlearea == 1 %}
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">bitpit
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
{% endif %}
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>bitpit</b></li><li class="navelem"><a class="el" href="classbitpit_1_1PatchSkdTree.html">PatchSkdTree</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classbitpit_1_1PatchSkdTree-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">bitpit::PatchSkdTree Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classbitpit_1_1PatchSkdTree.html" title="PatchSkdTree is the class that implements a spatial kd-tree (skd-tree) a bitpit patch.">PatchSkdTree</a> is the class that implements a spatial kd-tree (skd-tree) a bitpit patch.  
 <a href="classbitpit_1_1PatchSkdTree.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for bitpit::PatchSkdTree:</div>
<div class="dyncontent">
<div class="center"><img src="classbitpit_1_1PatchSkdTree__inherit__graph.png" border="0" usemap="#abitpit_1_1PatchSkdTree_inherit__map" alt="Inheritance graph"/></div>
<map name="abitpit_1_1PatchSkdTree_inherit__map" id="abitpit_1_1PatchSkdTree_inherit__map">
<area shape="rect" title="PatchSkdTree is the class that implements a spatial kd&#45;tree (skd&#45;tree) a bitpit patch." alt="" coords="98,5,237,32"/>
<area shape="rect" href="classbitpit_1_1SurfaceSkdTree.html" title="The SurfaceSkdTree implements a Bounding Volume Hierarchy tree for surface patches." alt="" coords="5,80,156,107"/>
<area shape="rect" href="classbitpit_1_1VolumeSkdTree.html" title="The VolumeSkdTree implements a Bounding Volume Hierarchy tree for volume patches." alt="" coords="180,80,328,107"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for bitpit::PatchSkdTree:</div>
<div class="dyncontent">
<div class="center"><img src="classbitpit_1_1PatchSkdTree__coll__graph.png" border="0" usemap="#abitpit_1_1PatchSkdTree_coll__map" alt="Collaboration graph"/></div>
<map name="abitpit_1_1PatchSkdTree_coll__map" id="abitpit_1_1PatchSkdTree_coll__map">
<area shape="rect" title="PatchSkdTree is the class that implements a spatial kd&#45;tree (skd&#45;tree) a bitpit patch." alt="" coords="2617,185,2756,211"/>
<area shape="rect" href="structbitpit_1_1SkdPatchInfo.html" title="The SkdPatchInfo class allows to store patch information needed for the construction and the utilizat..." alt="" coords="2356,185,2492,211"/>
<area shape="rect" href="classbitpit_1_1PatchKernel.html" title="The PatchKernel class provides an interface for defining patches." alt="" coords="2127,185,2253,211"/>
<area shape="rect" href="classbitpit_1_1VTKBaseStreamer.html" title="The base class to be used to derive VTK streamers form." alt="" coords="1831,98,1997,125"/>
<area shape="rect" href="classbitpit_1_1PiercedVector.html" title=" " alt="" coords="1845,149,1983,191"/>
<area shape="rect" href="classbitpit_1_1BasePiercedVector.html" title="Base class for pierced vectors." alt="" coords="1303,335,1471,362"/>
<area shape="rect" href="classbitpit_1_1PiercedVector.html" title="Metafunction for generating a pierced vector." alt="" coords="1528,221,1667,263"/>
<area shape="rect" href="classbitpit_1_1PiercedVector.html" title=" " alt="" coords="1845,345,1983,387"/>
<area shape="rect" href="classbitpit_1_1PiercedVector.html" title=" " alt="" coords="1845,215,1983,256"/>
<area shape="rect" href="classbitpit_1_1PiercedVectorKernel.html" title=" " alt="" coords="1300,97,1475,139"/>
<area shape="rect" href="classbitpit_1_1BasePiercedVectorKernel.html" title="Base class for pierced vector kernels." alt="" coords="747,5,915,47"/>
<area shape="rect" href="classbitpit_1_1PiercedVectorKernel.html" title="Kernel of the pierced vector." alt="" coords="968,41,1143,83"/>
<area shape="rect" href="classbitpit_1_1PiercedKernel.html" title=" " alt="" coords="762,77,899,119"/>
<area shape="rect" href="classbitpit_1_1BasePiercedKernel.html" title="Base class for the pierced kernel." alt="" coords="230,95,397,122"/>
<area shape="rect" href="classbitpit_1_1PiercedKernel.html" title="Metafunction for generating a pierced kernel." alt="" coords="455,129,593,171"/>
<area shape="rect" href="classbitpit_1_1PiercedSyncMaster.html" title="Base class for defining an object that acts like a master in pierced synchronization." alt="" coords="5,95,176,122"/>
<area shape="rect" href="classbitpit_1_1PiercedVectorStorage.html" title="Kernel of the pierced vector." alt="" coords="964,273,1147,315"/>
<area shape="rect" href="classbitpit_1_1PiercedVectorStorage.html" title=" " alt="" coords="1296,201,1479,243"/>
<area shape="rect" href="classbitpit_1_1BasePiercedVectorStorage.html" title="Base class for pierced vector kernels." alt="" coords="747,171,915,212"/>
<area shape="rect" href="classbitpit_1_1PiercedStorage.html" title=" " alt="" coords="757,244,904,285"/>
<area shape="rect" href="classbitpit_1_1BasePiercedStorage.html" title="Base class for the pierced storages." alt="" coords="225,231,401,258"/>
<area shape="rect" href="classbitpit_1_1PiercedStorage.html" title="Metafunction for generating a pierced storage." alt="" coords="451,260,597,301"/>
<area shape="rect" href="classbitpit_1_1PiercedSyncSlave.html" title="Base class for defining an object that acts like a slave in pierced synchronization." alt="" coords="9,231,172,258"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa54387e351eb08bcc15ba277b0e7f550"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbitpit_1_1PatchSkdTree.html#aa54387e351eb08bcc15ba277b0e7f550">build</a> (std::size_t leaftThreshold=1, bool squeezeStorage=false)</td></tr>
<tr class="separator:aa54387e351eb08bcc15ba277b0e7f550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8b93308ea98981bd556bf9e57e024f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbitpit_1_1PatchSkdTree.html#ab8b93308ea98981bd556bf9e57e024f6">clear</a> (bool release=false)</td></tr>
<tr class="separator:ab8b93308ea98981bd556bf9e57e024f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b7bb47e8eab7b60b1fe4f905a93dc62"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbitpit_1_1PatchSkdTree.html#a1b7bb47e8eab7b60b1fe4f905a93dc62">evalMaxDepth</a> (std::size_t rootId=0) const</td></tr>
<tr class="separator:a1b7bb47e8eab7b60b1fe4f905a93dc62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a502965ba193dd35e52099015feb62610"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbitpit_1_1PatchSkdTree.html#a502965ba193dd35e52099015feb62610">getLeafCount</a> () const</td></tr>
<tr class="separator:a502965ba193dd35e52099015feb62610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e99669b9750f48b9af825916da436f9"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbitpit_1_1PatchSkdTree.html#a2e99669b9750f48b9af825916da436f9">getLeafMaxCellCount</a> () const</td></tr>
<tr class="separator:a2e99669b9750f48b9af825916da436f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24780d7ce1edb52f8c45731f8d207b39"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbitpit_1_1PatchSkdTree.html#a24780d7ce1edb52f8c45731f8d207b39">getLeafMinCellCount</a> () const</td></tr>
<tr class="separator:a24780d7ce1edb52f8c45731f8d207b39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a930ff5643db684335e7215ccd0c834f2"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classbitpit_1_1SkdNode.html">SkdNode</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbitpit_1_1PatchSkdTree.html#a930ff5643db684335e7215ccd0c834f2">getNode</a> (std::size_t nodeId) const</td></tr>
<tr class="separator:a930ff5643db684335e7215ccd0c834f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0623d9c4545904ec9efd3a44ca4e7d3"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbitpit_1_1PatchSkdTree.html#ab0623d9c4545904ec9efd3a44ca4e7d3">getNodeCount</a> () const</td></tr>
<tr class="separator:ab0623d9c4545904ec9efd3a44ca4e7d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d53c7bd09893a768eded2a0c5d7c342"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classbitpit_1_1SkdBox.html">SkdBox</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbitpit_1_1PatchSkdTree.html#a1d53c7bd09893a768eded2a0c5d7c342">getPartitionBox</a> (int rank) const</td></tr>
<tr class="separator:a1d53c7bd09893a768eded2a0c5d7c342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc4eba0df970f5dc84d61ded06b7239c"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classbitpit_1_1PatchKernel.html">PatchKernel</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbitpit_1_1PatchSkdTree.html#afc4eba0df970f5dc84d61ded06b7239c">getPatch</a> () const</td></tr>
<tr class="separator:afc4eba0df970f5dc84d61ded06b7239c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ac68445b0f9cc912df621bf7ee3f00170"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbitpit_1_1PatchSkdTree.html#ac68445b0f9cc912df621bf7ee3f00170">PatchSkdTree</a> (const <a class="el" href="classbitpit_1_1PatchKernel.html">PatchKernel</a> *patch, bool interiorCellsOnly=false)</td></tr>
<tr class="separator:ac68445b0f9cc912df621bf7ee3f00170"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58e7b7c1b4865de58b850795ae5af108"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbitpit_1_1SkdNode.html">SkdNode</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbitpit_1_1PatchSkdTree.html#a58e7b7c1b4865de58b850795ae5af108">_getNode</a> (std::size_t nodeId)</td></tr>
<tr class="separator:a58e7b7c1b4865de58b850795ae5af108"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a438dfcb672749718f243c9c7942762af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbitpit_1_1PatchSkdTree.html#a438dfcb672749718f243c9c7942762af">freeCommunicator</a> ()</td></tr>
<tr class="separator:a438dfcb672749718f243c9c7942762af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af03e99ad3e3f1200317d599cd76c5ec9"><td class="memItemLeft" align="right" valign="top">const MPI_Comm &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbitpit_1_1PatchSkdTree.html#af03e99ad3e3f1200317d599cd76c5ec9">getCommunicator</a> () const</td></tr>
<tr class="separator:af03e99ad3e3f1200317d599cd76c5ec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a095c37070be661ea10dfcaefb90a5ab7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbitpit_1_1PatchSkdTree.html#a095c37070be661ea10dfcaefb90a5ab7">isCommunicatorSet</a> () const</td></tr>
<tr class="separator:a095c37070be661ea10dfcaefb90a5ab7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ba084c7f538233b6eeaff91e44f8adf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbitpit_1_1PatchSkdTree.html#a4ba084c7f538233b6eeaff91e44f8adf">setCommunicator</a> (MPI_Comm communicator)</td></tr>
<tr class="separator:a4ba084c7f538233b6eeaff91e44f8adf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a096f9be6ba248122f58e9a838b5eed9d"><td class="memItemLeft" align="right" valign="top"><a id="a096f9be6ba248122f58e9a838b5eed9d"></a>
std::vector&lt; std::size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_cellRawIds</b></td></tr>
<tr class="separator:a096f9be6ba248122f58e9a838b5eed9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06cb8efa7aa4a78594743775a1c7b7ab"><td class="memItemLeft" align="right" valign="top"><a id="a06cb8efa7aa4a78594743775a1c7b7ab"></a>
MPI_Comm&#160;</td><td class="memItemRight" valign="bottom"><b>m_communicator</b></td></tr>
<tr class="separator:a06cb8efa7aa4a78594743775a1c7b7ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a2912f534fb257aa3efc8f3ec2c82f9"><td class="memItemLeft" align="right" valign="top"><a id="a1a2912f534fb257aa3efc8f3ec2c82f9"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>m_interiorCellsOnly</b></td></tr>
<tr class="separator:a1a2912f534fb257aa3efc8f3ec2c82f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2336bf63ec0a8696fac1a5d34a18b1c9"><td class="memItemLeft" align="right" valign="top"><a id="a2336bf63ec0a8696fac1a5d34a18b1c9"></a>
std::size_t&#160;</td><td class="memItemRight" valign="bottom"><b>m_nLeafs</b></td></tr>
<tr class="separator:a2336bf63ec0a8696fac1a5d34a18b1c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1762ebaf38e567e42e1e24775d3493b"><td class="memItemLeft" align="right" valign="top"><a id="ab1762ebaf38e567e42e1e24775d3493b"></a>
std::size_t&#160;</td><td class="memItemRight" valign="bottom"><b>m_nMaxLeafCells</b></td></tr>
<tr class="separator:ab1762ebaf38e567e42e1e24775d3493b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd758d949406b15eb4b2b7d7fbad427f"><td class="memItemLeft" align="right" valign="top"><a id="acd758d949406b15eb4b2b7d7fbad427f"></a>
std::size_t&#160;</td><td class="memItemRight" valign="bottom"><b>m_nMinLeafCells</b></td></tr>
<tr class="separator:acd758d949406b15eb4b2b7d7fbad427f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabed7a3e91b685b21ee96fbdd2aeae6a"><td class="memItemLeft" align="right" valign="top"><a id="aabed7a3e91b685b21ee96fbdd2aeae6a"></a>
std::vector&lt; <a class="el" href="classbitpit_1_1SkdNode.html">SkdNode</a>, <a class="el" href="structbitpit_1_1SkdNode_1_1Allocator.html">SkdNode::Allocator</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_nodes</b></td></tr>
<tr class="separator:aabed7a3e91b685b21ee96fbdd2aeae6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada1373b0926a03d16b3de1e92a12e3c0"><td class="memItemLeft" align="right" valign="top"><a id="ada1373b0926a03d16b3de1e92a12e3c0"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>m_nProcessors</b></td></tr>
<tr class="separator:ada1373b0926a03d16b3de1e92a12e3c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10fd1ba8628a482e26e8ea0a814f40b5"><td class="memItemLeft" align="right" valign="top"><a id="a10fd1ba8628a482e26e8ea0a814f40b5"></a>
std::vector&lt; <a class="el" href="classbitpit_1_1SkdBox.html">SkdBox</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>m_partitionBoxes</b></td></tr>
<tr class="separator:a10fd1ba8628a482e26e8ea0a814f40b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd98f625c964d8de8c0f59f093630dae"><td class="memItemLeft" align="right" valign="top"><a id="abd98f625c964d8de8c0f59f093630dae"></a>
<a class="el" href="structbitpit_1_1SkdPatchInfo.html">SkdPatchInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><b>m_patchInfo</b></td></tr>
<tr class="separator:abd98f625c964d8de8c0f59f093630dae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a908cc891a6234debf8fa45c2e0ce0266"><td class="memItemLeft" align="right" valign="top"><a id="a908cc891a6234debf8fa45c2e0ce0266"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>m_rank</b></td></tr>
<tr class="separator:a908cc891a6234debf8fa45c2e0ce0266"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classbitpit_1_1PatchSkdTree.html" title="PatchSkdTree is the class that implements a spatial kd-tree (skd-tree) a bitpit patch.">PatchSkdTree</a> is the class that implements a spatial kd-tree (skd-tree) a bitpit patch. </p>
<p>Spatial kd-tree is a spatial access method presented bt Ooi et al. where successive levels are split along different dimensions. Tke skd-tree was proposed to handle spatial obects with extension, which could not be handled by the original kd-tree. Skd-trees belong to the Bounding Volume Hierarchy (BVH) class of geometric search structures. Bounding volume hierarchies come in many variations: swept spheres, OBB-trees, sphere trees, and skd-trees are all examples.</p>
<p>Each node of a skd-tree structure contains a bounding volume for some subset of the initial geometry. The nodes are generally arranged in an oriented tree, where child nodes bound non-empty subsets of their parentsâ€™ geometry. Nodes with no children are called leaves.</p>
<p>The bounding volumes are selected to minimize the cost of query operations (e.g. proximity, intersection, or containment) while providing a close fit to the underlying geometry.</p>
<p>Analyzing the asymptotic behavior of skd-trees is difficult. In the best case, skd-tree queries can be answered in constant time. In the worst case, each node of the tree may have to be visited, leading to O(n) work for the example of a binary tree with n leaf nodes. On average, the effort for intersection testing queries appears to be O(log2 n), while nearest features queries appear to be considerably cheaper than O(n).</p>
<p>See:</p>
<p>Deterministic point inclusion methods for computational applications with complex geometry, Ahmed Khamayseh and Andrew Kuprat. Computational Science &amp; Discovery, Volume 1, Number 1, 2008. [This paper contains the algorithms for building the skd-tree and for performing closest cell queries.]</p>
<p>Efficient Query Processing in Geographic Information Systems (Lecture Notes in Computer Science vol 471), Ooi B. C., 1990.</p>
<p>A comparative study of spatial indexing techniques for multidimensional scientific datasets, Beomseok Nam and Alan Sussman Nam, International Conference on Scientific and Statistical Database Management, 2004. </p>

<p class="definition">Definition at line <a class="el" href="patch__skd__tree_8hpp_source.html#l00181">181</a> of file <a class="el" href="patch__skd__tree_8hpp_source.html">patch_skd_tree.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac68445b0f9cc912df621bf7ee3f00170"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac68445b0f9cc912df621bf7ee3f00170">&#9670;&nbsp;</a></span>PatchSkdTree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bitpit::PatchSkdTree::PatchSkdTree </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classbitpit_1_1PatchKernel.html">PatchKernel</a> *&#160;</td>
          <td class="paramname"><em>patch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>interiorCellsOnly</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">patch</td><td>is the patch that will be use to build the tree </td></tr>
    <tr><td class="paramname">interiorCellsOnly</td><td>if set to true, only interior cells will be considered </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="patch__skd__tree_8cpp_source.html#l00929">929</a> of file <a class="el" href="patch__skd__tree_8cpp_source.html">patch_skd_tree.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a58e7b7c1b4865de58b850795ae5af108"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58e7b7c1b4865de58b850795ae5af108">&#9670;&nbsp;</a></span>_getNode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbitpit_1_1SkdNode.html">SkdNode</a> &amp; bitpit::PatchSkdTree::_getNode </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>nodeId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a reference to the specified node.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nodeId</td><td>is the id of the node </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to the specified node. </dd></dl>

<p class="definition">Definition at line <a class="el" href="patch__skd__tree_8cpp_source.html#l01145">1145</a> of file <a class="el" href="patch__skd__tree_8cpp_source.html">patch_skd_tree.cpp</a>.</p>

</div>
</div>
<a id="aa54387e351eb08bcc15ba277b0e7f550"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa54387e351eb08bcc15ba277b0e7f550">&#9670;&nbsp;</a></span>build()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bitpit::PatchSkdTree::build </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>leafThreshold</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>squeezeStorage</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Build the tree.</p>
<p>Leaf nodes will contain a number of "characteristic positions" that is less or equal than the specified threshold. Given a parent node, new children are generated divinding the cells of the parent node in two subset. For each cell, a characteristic position is evaluated (i.e., the centrooid of the bounding box) and this characteristic position is used to sort the cells. The weighted average of the characteristics positions of all the cells of the parent will be used as a split threshold. Different cells may have the same characteristics position and all the cells with the same characteristic position will be clustered in the same leaf node. The threshold below which a node is considered a leaf, is compared with the number of characterisic positions containd in the node, not with the number of cell it contains. When there are cells with the same characteristic position, a node may contain a number of cells that is greater than the leaf threshold.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">leafThreshold</td><td>is the maximum number of "characteristic positions" a node can contain to be considered a leaf<ul>
<li></li>
</ul>
</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">squeezeStorage</td><td>if set to true tree data structures will be squeezed after the build </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="patch__skd__tree_8cpp_source.html#l00984">984</a> of file <a class="el" href="patch__skd__tree_8cpp_source.html">patch_skd_tree.cpp</a>.</p>

</div>
</div>
<a id="ab8b93308ea98981bd556bf9e57e024f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8b93308ea98981bd556bf9e57e024f6">&#9670;&nbsp;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void bitpit::PatchSkdTree::clear </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>release</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clear the tree.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">release</td><td>if it's true the memory hold by the tree will be released, otherwise the treewill be cleared but its memory will not be relased </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="patch__skd__tree_8cpp_source.html#l01074">1074</a> of file <a class="el" href="patch__skd__tree_8cpp_source.html">patch_skd_tree.cpp</a>.</p>

</div>
</div>
<a id="a1b7bb47e8eab7b60b1fe4f905a93dc62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b7bb47e8eab7b60b1fe4f905a93dc62">&#9670;&nbsp;</a></span>evalMaxDepth()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t bitpit::PatchSkdTree::evalMaxDepth </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>rootId</em> = <code>0</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Evaluate the maximum depth of the tree.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rootId</td><td>is the id of the root node </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The maximum depth of the tree. </dd></dl>

<p class="definition">Definition at line <a class="el" href="patch__skd__tree_8cpp_source.html#l01156">1156</a> of file <a class="el" href="patch__skd__tree_8cpp_source.html">patch_skd_tree.cpp</a>.</p>

</div>
</div>
<a id="a438dfcb672749718f243c9c7942762af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a438dfcb672749718f243c9c7942762af">&#9670;&nbsp;</a></span>freeCommunicator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void bitpit::PatchSkdTree::freeCommunicator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Free the MPI communicator </p>

<p class="definition">Definition at line <a class="el" href="patch__skd__tree_8cpp_source.html#l01334">1334</a> of file <a class="el" href="patch__skd__tree_8cpp_source.html">patch_skd_tree.cpp</a>.</p>

</div>
</div>
<a id="af03e99ad3e3f1200317d599cd76c5ec9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af03e99ad3e3f1200317d599cd76c5ec9">&#9670;&nbsp;</a></span>getCommunicator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const MPI_Comm &amp; bitpit::PatchSkdTree::getCommunicator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets the MPI communicator associated to the patch.</p>
<dl class="section return"><dt>Returns</dt><dd>The MPI communicator associated to the patch. </dd></dl>

<p class="definition">Definition at line <a class="el" href="patch__skd__tree_8cpp_source.html#l01365">1365</a> of file <a class="el" href="patch__skd__tree_8cpp_source.html">patch_skd_tree.cpp</a>.</p>

</div>
</div>
<a id="a502965ba193dd35e52099015feb62610"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a502965ba193dd35e52099015feb62610">&#9670;&nbsp;</a></span>getLeafCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t bitpit::PatchSkdTree::getLeafCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the number of leafs contained in the tree.</p>
<dl class="section return"><dt>Returns</dt><dd>The number of nodes contained in the tree. </dd></dl>

<p class="definition">Definition at line <a class="el" href="patch__skd__tree_8cpp_source.html#l01123">1123</a> of file <a class="el" href="patch__skd__tree_8cpp_source.html">patch_skd_tree.cpp</a>.</p>

</div>
</div>
<a id="a2e99669b9750f48b9af825916da436f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e99669b9750f48b9af825916da436f9">&#9670;&nbsp;</a></span>getLeafMaxCellCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t bitpit::PatchSkdTree::getLeafMaxCellCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the maximum number of elements contained in a leaf.</p>
<dl class="section return"><dt>Returns</dt><dd>Get the maximum number of elements contained in a leaf. </dd></dl>

<p class="definition">Definition at line <a class="el" href="patch__skd__tree_8cpp_source.html#l00956">956</a> of file <a class="el" href="patch__skd__tree_8cpp_source.html">patch_skd_tree.cpp</a>.</p>

</div>
</div>
<a id="a24780d7ce1edb52f8c45731f8d207b39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24780d7ce1edb52f8c45731f8d207b39">&#9670;&nbsp;</a></span>getLeafMinCellCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t bitpit::PatchSkdTree::getLeafMinCellCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the minimum number of elements contained in a leaf.</p>
<dl class="section return"><dt>Returns</dt><dd>Get the minimum number of elements contained in a leaf. </dd></dl>

<p class="definition">Definition at line <a class="el" href="patch__skd__tree_8cpp_source.html#l00946">946</a> of file <a class="el" href="patch__skd__tree_8cpp_source.html">patch_skd_tree.cpp</a>.</p>

</div>
</div>
<a id="a930ff5643db684335e7215ccd0c834f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a930ff5643db684335e7215ccd0c834f2">&#9670;&nbsp;</a></span>getNode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classbitpit_1_1SkdNode.html">SkdNode</a> &amp; bitpit::PatchSkdTree::getNode </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>nodeId</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a constant reference to the specified node.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nodeId</td><td>is the id of the node </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A constant reference to the specified node. </dd></dl>

<p class="definition">Definition at line <a class="el" href="patch__skd__tree_8cpp_source.html#l01134">1134</a> of file <a class="el" href="patch__skd__tree_8cpp_source.html">patch_skd_tree.cpp</a>.</p>

</div>
</div>
<a id="ab0623d9c4545904ec9efd3a44ca4e7d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0623d9c4545904ec9efd3a44ca4e7d3">&#9670;&nbsp;</a></span>getNodeCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t bitpit::PatchSkdTree::getNodeCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the number of nodes contained in the tree.</p>
<dl class="section return"><dt>Returns</dt><dd>The number of nodes contained in the tree. </dd></dl>

<p class="definition">Definition at line <a class="el" href="patch__skd__tree_8cpp_source.html#l01113">1113</a> of file <a class="el" href="patch__skd__tree_8cpp_source.html">patch_skd_tree.cpp</a>.</p>

</div>
</div>
<a id="a1d53c7bd09893a768eded2a0c5d7c342"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d53c7bd09893a768eded2a0c5d7c342">&#9670;&nbsp;</a></span>getPartitionBox()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classbitpit_1_1SkdBox.html">SkdBox</a> &amp; bitpit::PatchSkdTree::getPartitionBox </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rank</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the bounding box associated to a partition.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rank</td><td>is the ndex of the rank owner of the target partition </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The bounding box associated to the partition. </dd></dl>

<p class="definition">Definition at line <a class="el" href="patch__skd__tree_8cpp_source.html#l01413">1413</a> of file <a class="el" href="patch__skd__tree_8cpp_source.html">patch_skd_tree.cpp</a>.</p>

</div>
</div>
<a id="afc4eba0df970f5dc84d61ded06b7239c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc4eba0df970f5dc84d61ded06b7239c">&#9670;&nbsp;</a></span>getPatch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classbitpit_1_1PatchKernel.html">PatchKernel</a> &amp; bitpit::PatchSkdTree::getPatch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a constant reference to the patch associated to the tree.</p>
<dl class="section return"><dt>Returns</dt><dd>A a constant reference to the patch associated to the tree. </dd></dl>

<p class="definition">Definition at line <a class="el" href="patch__skd__tree_8cpp_source.html#l01103">1103</a> of file <a class="el" href="patch__skd__tree_8cpp_source.html">patch_skd_tree.cpp</a>.</p>

</div>
</div>
<a id="a095c37070be661ea10dfcaefb90a5ab7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a095c37070be661ea10dfcaefb90a5ab7">&#9670;&nbsp;</a></span>isCommunicatorSet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool bitpit::PatchSkdTree::isCommunicatorSet </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Checks if the communicator to be used for parallel communications has already been set.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the communicator has been set, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="patch__skd__tree_8cpp_source.html#l01355">1355</a> of file <a class="el" href="patch__skd__tree_8cpp_source.html">patch_skd_tree.cpp</a>.</p>

</div>
</div>
<a id="a4ba084c7f538233b6eeaff91e44f8adf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ba084c7f538233b6eeaff91e44f8adf">&#9670;&nbsp;</a></span>setCommunicator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void bitpit::PatchSkdTree::setCommunicator </td>
          <td>(</td>
          <td class="paramtype">MPI_Comm&#160;</td>
          <td class="paramname"><em>communicator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Sets the MPI communicator to be used for parallel communications.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">communicator</td><td>is the communicator to be used for parallel communications. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="patch__skd__tree_8cpp_source.html#l01307">1307</a> of file <a class="el" href="patch__skd__tree_8cpp_source.html">patch_skd_tree.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/patchkernel/<a class="el" href="patch__skd__tree_8hpp_source.html">patch_skd_tree.hpp</a></li>
<li>src/patchkernel/<a class="el" href="patch__skd__tree_8cpp_source.html">patch_skd_tree.cpp</a></li>
</ul>
</div><!-- contents -->
---
layout: doxygen_footer
---
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<address class="footer"><small>
Generated on Mon Mar 29 2021 21:17:48 for bitpit by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.9.1
</small></address>
